"use strict";(self.webpackChunkdellace=self.webpackChunkdellace||[]).push([[6454],{36454:function(e,a,n){n.r(a),n.d(a,{default:function(){return b}});var t=n(1413),r=n(74165),i=n(15861),s=n(29439),d=n(72791),l=n(9140),o=n(57689),c=n(59730),u=n(5439),m=n(39599),f=n(22339),v=n(43953),x=n(8007);var p=n(80184);var h=function(e){var a=e.onSubmit,n=e.loading,r=e.formData,i={image:(null===r||void 0===r?void 0:r.image)||"",name:(null===r||void 0===r?void 0:r.name)||""};return(0,p.jsx)(f.J9,{initialValues:(0,t.Z)({},i),validationSchema:x.Ry().shape({name:x.Z_().required("Brand name is required"),image:x.Z_().required("Brand image is required")}),onSubmit:a,enableReinitialize:!0,children:function(e){return(0,p.jsxs)(f.l0,{children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{className:"form-label",children:"Banner Title"}),(0,p.jsx)("div",{className:"form-control-wrap",children:(0,p.jsx)(c.II,{id:"name",className:"form-control",name:"name",disabled:!1,variant:"standard",type:"text",placeholder:"Enter title",setFieldValue:e.handleChange})})]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{className:"form-label",children:"Banner Image"}),(0,p.jsx)("div",{className:"form-group",children:(0,p.jsx)("div",{className:"upload_photo mb-2 mb-md-3 mx-auto text-center",children:(0,p.jsx)("div",{className:"img-box",children:(0,p.jsx)(c.jM,{name:"image",apiEndPoints:v.pU.profileImage,type:"file",defaultImageUrl:"",setFieldValue:e.handleChange})})})})]}),(0,p.jsx)("div",{className:"form-group text-center",children:(0,p.jsx)(c.Jr,{htmlType:"submit",type:"submit",loading:n,extraClassName:"btn btn-primary ripple-effect",children:null!==r&&void 0!==r&&r.id?"Update Banner":"Add Banner"})})]})}})};var b=function(){var e=(0,o.TH)(),a=e.search,n=(0,d.useState)([]),f=(0,s.Z)(n,2),v=f[0],x=f[1],b=(0,d.useState)({}),Z=(0,s.Z)(b,2),g=Z[0],j=Z[1],y=(0,d.useState)(1),N=(0,s.Z)(y,2),B=N[0],S=N[1],k=(0,d.useState)(10),C=(0,s.Z)(k,2),w=C[0],P=C[1],F=(0,d.useState)(""),T=(0,s.Z)(F,2),E=T[0],I=T[1],H=(0,d.useState)([{dataField:"",order:""}]),R=(0,s.Z)(H,2),A=R[0],U=R[1],q=(0,d.useState)(!1),z=(0,s.Z)(q,2),D=z[0],M=z[1],L=(0,d.useState)(),V=(0,s.Z)(L,2),O=V[0],_=V[1],J=(0,d.useState)(0),G=(0,s.Z)(J,2),Q=G[0],Y=G[1],K=(0,d.useState)(!1),W=(0,s.Z)(K,2),X=W[0],$=W[1],ee=(0,d.useState)(""),ae=(0,s.Z)(ee,2),ne=ae[0],te=ae[1],re=(0,d.useState)(!1),ie=(0,s.Z)(re,2),se=ie[0],de=ie[1];(0,d.useEffect)((function(){if(a){var e,n=(0,u.U)(a);if(j(n),S(null!==(e=null===n||void 0===n?void 0:n.page)&&void 0!==e?e:1),null!==n&&void 0!==n&&n.sortType){var t=[{order:(0,u.Mq)(null===n||void 0===n?void 0:n.sortType),dataField:null===n||void 0===n?void 0:n.sortBy}];U(t)}else U({dataField:"",order:""})}}),[e]);var le=function(e){$(!0),te(e)},oe=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var a,n,t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,a={offset:(B-1)*w,limit:w,sortBy:null===g||void 0===g?void 0:g.sortBy,sortType:null===g||void 0===g?void 0:g.sortType,name:E},e.next=5,m.np.getBannerData(a);case 5:n=e.sent,t=n.success,i=n.data,t&&(x(i.rows),_(i.count>0?Math.ceil(i.count/w):1),Y(i.count)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,u.kg)(e.t0);case 13:M(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),ce=[{dataField:"name",text:"Title",formatter:function(e){return(0,u.rx)(e)}},{dataField:"thumbnailUrl",text:"Banner Image",formatter:function(e,a){return null!==a&&void 0!==a&&a.thumbnailUrl?(0,c.AG)(e):"-"}},{dataField:"BrandBanner",text:"Brand Banner",formatter:function(e){return(0,u.rx)(e)}},{dataField:"action",text:"Action",headerClasses:"d-flex justify-content-end",formatter:function(e,a){return(0,c.Lg)(function(e){return[{name:"Edit",icon:"icon ni ni-pen",path:"#addForm",action:"confirm",onClickHandle:function(){le(e)}}]}(a))}}],ue=function(){M(!0),x([]),_(0),Y(0)},me=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de(!0),e.prev=1,n=(0,t.Z)({},a),!ne){e.next=9;break}return e.next=6,null===m.np||void 0===m.np?void 0:m.np.updateBanner(null===ne||void 0===ne?void 0:ne.id,n);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,null===m.np||void 0===m.np?void 0:m.np.addBanner(n);case 11:e.t0=e.sent;case 12:null!==(i=e.t0)&&void 0!==i&&i.success&&((0,u.iM)({type:"success",message:null===i||void 0===i?void 0:i.message}),$(!1),te(""),ue(),oe()),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),(0,u.kg)(e.t1);case 19:de(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(a){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){oe()}),[g]),(0,p.jsxs)("div",{className:"nk-block-head nk-block-head-sm",children:[(0,p.jsxs)("div",{className:"nk-block-between",children:[(0,p.jsx)(l.Z,{className:"w-100 rounded-2 mb-4",children:(0,p.jsx)(l.Z.Body,{children:(0,p.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,p.jsx)(c.mr,{heading:"Banners"}),(0,p.jsx)(c.hY,{btnText:"Add Brand",onHandleShow:function(e){e.preventDefault(),le()},btnArray:["create"]})]})})}),(0,p.jsx)(c.zS,{onHandleCancel:function(){$(!1),te("")},show:X,title:null!==ne&&void 0!==ne&&ne.id?"Edit Brand":"Add Brand",children:(0,p.jsx)(h,{formData:ne,onSubmit:me,loading:se})})]}),(0,p.jsx)(c.wQ,{sizePerPagination:!1,hasLimit:!0,noOfPage:O,sizePerPage:w,page:B,count:Q,tableData:v,tableColumns:ce,defaultSort:A,tableLoader:D,setSizePerPage:P,tableReset:ue,getSearchValue:function(e){I(e),e&&ue()},searchPlaceholder:"Brand Name"})]})}},9140:function(e,a,n){n.d(a,{Z:function(){return F}});var t=n(1413),r=n(45987),i=n(81694),s=n.n(i),d=n(72791),l=n(10162),o=n(66543),c=n(27472),u=n(80184),m=["bsPrefix","className","variant","as"],f=d.forwardRef((function(e,a){var n=e.bsPrefix,i=e.className,d=e.variant,o=e.as,c=void 0===o?"img":o,f=(0,r.Z)(e,m),v=(0,l.vE)(n,"card-img");return(0,u.jsx)(c,(0,t.Z)({ref:a,className:s()(d?"".concat(v,"-").concat(d):v,i)},f))}));f.displayName="CardImg";var v=f,x=n(96040),p=["bsPrefix","className","as"],h=d.forwardRef((function(e,a){var n=e.bsPrefix,i=e.className,o=e.as,c=void 0===o?"div":o,m=(0,r.Z)(e,p),f=(0,l.vE)(n,"card-header"),v=(0,d.useMemo)((function(){return{cardHeaderBsPrefix:f}}),[f]);return(0,u.jsx)(x.Z.Provider,{value:v,children:(0,u.jsx)(c,(0,t.Z)((0,t.Z)({ref:a},m),{},{className:s()(i,f)}))})}));h.displayName="CardHeader";var b=h,Z=["bsPrefix","className","bg","text","border","body","children","as"],g=(0,c.Z)("h5"),j=(0,c.Z)("h6"),y=(0,o.Z)("card-body"),N=(0,o.Z)("card-title",{Component:g}),B=(0,o.Z)("card-subtitle",{Component:j}),S=(0,o.Z)("card-link",{Component:"a"}),k=(0,o.Z)("card-text",{Component:"p"}),C=(0,o.Z)("card-footer"),w=(0,o.Z)("card-img-overlay"),P=d.forwardRef((function(e,a){var n=e.bsPrefix,i=e.className,d=e.bg,o=e.text,c=e.border,m=e.body,f=e.children,v=e.as,x=void 0===v?"div":v,p=(0,r.Z)(e,Z),h=(0,l.vE)(n,"card");return(0,u.jsx)(x,(0,t.Z)((0,t.Z)({ref:a},p),{},{className:s()(i,h,d&&"bg-".concat(d),o&&"text-".concat(o),c&&"border-".concat(c)),children:m?(0,u.jsx)(y,{children:f}):f}))}));P.displayName="Card",P.defaultProps={body:!1};var F=Object.assign(P,{Img:v,Title:N,Subtitle:B,Body:y,Link:S,Text:k,Header:b,Footer:C,ImgOverlay:w})},96040:function(e,a,n){var t=n(72791).createContext(null);t.displayName="CardHeaderContext",a.Z=t},27472:function(e,a,n){var t=n(1413),r=n(72791),i=n(81694),s=n.n(i),d=n(80184);a.Z=function(e){return r.forwardRef((function(a,n){return(0,d.jsx)("div",(0,t.Z)((0,t.Z)({},a),{},{ref:n,className:s()(a.className,e)}))}))}}}]);
//# sourceMappingURL=6454.d3b6009e.chunk.js.map